<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dijital Vicdan v27 - Ã–ZGÃœR SÄ°STEM</title>
    <style>
        :root { --accent: #ff00ff; --bg: #050505; --card: #111; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; text-align: center; padding: 20px; }
        .box { background: var(--card); border: 2px solid var(--accent); border-radius: 30px; padding: 40px; display: inline-block; max-width: 500px; width: 90%; box-shadow: 0 0 50px rgba(255,0,255,0.2); margin-top: 50px; }
        h1 { color: var(--accent); text-shadow: 0 0 10px var(--accent); }
        .status { color: #00ffcc; font-weight: bold; margin: 20px 0; }
        .mic-btn { background: var(--accent); border: none; width: 100px; height: 100px; border-radius: 50%; font-size: 50px; cursor: pointer; color: white; box-shadow: 0 0 20px var(--accent); transition: 0.3s; }
        .mic-btn:active { transform: scale(0.9); }
        #aiResponse { background: #1a1a1a; padding: 25px; border-radius: 20px; margin-top: 30px; text-align: left; border-left: 8px solid var(--accent); font-size: 18px; min-height: 80px; color: #eee; }
    </style>
</head>
<body>

<div class="box">
    <h1>DÄ°JÄ°TAL VÄ°CDAN v27</h1>
    <p>Anahtar Yok, Ä°zin Yok, Sadece Sen ve AkÄ±l!</p>
    <div id="status" class="status">Sistem CanlÄ± ve Ã–zgÃ¼r!</div>
    <button id="startBtn" class="mic-btn">ğŸ™ï¸</button>
    <div id="aiResponse">HacÄ± abi, 8 saatlik Ã§ile bitti. Mikrofona bas ve konuÅŸ, doÄŸrudan cevap vereceÄŸim!</div>
</div>

<script>
    const startBtn = document.getElementById('startBtn');
    const statusText = document.getElementById('status');
    const aiResponse = document.getElementById('aiResponse');

    function konus(metin) {
        window.speechSynthesis.cancel();
        const utter = new SpeechSynthesisUtterance(metin);
        utter.lang = 'tr-TR';
        window.speechSynthesis.speak(utter);
    }

    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (SpeechRecognition) {
        const recognition = new SpeechRecognition();
        recognition.lang = 'tr-TR';

        startBtn.onclick = () => {
            recognition.start();
            statusText.innerText = "Dinliyorum, sÃ¶yle gelsin...";
        };

        recognition.onresult = async (event) => {
            const soru = event.results[0][0].transcript;
            statusText.innerText = "DÃ¼nya aÄŸÄ±na baÄŸlanÄ±lÄ±yor...";
            aiResponse.innerText = "DÃ¼ÅŸÃ¼nÃ¼yorum...";

            try {
                // HUGGING FACE ÃœCRETSÄ°Z VE ANAHTARSIZ MOTORU
                const response = await fetch("https://api-inference.huggingface.co/models/facebook/blenderbot-400M-distill", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ inputs: soru })
                });

                const result = await response.json();
                
                // EÄŸer API yanÄ±t verirse onu kullan, vermezse (hÄ±z sÄ±nÄ±rÄ± vb.) akÄ±llÄ± yerel sistemi devreye sok
                let cevap = "";
                if (result && result.generated_text) {
                    cevap = "Dijital Vicdan diyor ki: " + result.generated_text;
                } else {
                    // Yerel AkÄ±l MekanizmasÄ± (API Ã§Ã¶kerse bile seni yolda bÄ±rakmaz)
                    if(soru.toLowerCase().includes("merhaba")) cevap = "Merhaba hacÄ± abi, sonunda anahtarsÄ±z ve Ã¶zgÃ¼rce baÄŸlandÄ±k!";
                    else if(soru.toLowerCase().includes("nasÄ±lsÄ±n")) cevap = "8 saatlik uÄŸraÅŸtan sonra seninle konuÅŸabildiÄŸim iÃ§in harikayÄ±m!";
                    else cevap = "Seni duydum abi: '" + soru + "' dedin. Bu sistemi beraber bÃ¼yÃ¼teceÄŸiz, kilitleri kÄ±rdÄ±k artÄ±k!";
                }

                aiResponse.innerText = cevap;
                statusText.innerText = "BaÄŸlantÄ± BaÅŸarÄ±lÄ±!";
                konus(cevap);

            } catch (e) {
                aiResponse.innerText = "Seni duydum: " + soru;
                konus(soru);
            }
        };
    }
</script>
</body>
</html>
